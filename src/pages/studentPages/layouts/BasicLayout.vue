<template>

  <div class="common-layout">

    <el-container>
      <!--å¯¼èˆªæ -->
      <!--  ä¸Š    -->
      <el-header>
        <el-affix :offset="0">
          <el-menu
              :default-active="router.currentRoute.value.fullPath"
              class="el-menu-demo"
              mode="horizontal"
              :ellipsis="false"
              router="true"
          >
            <el-menu-item style="color: blue;font-family: åæ–‡è¡Œæ¥·;font-size: 25px">æ¹–å—å·¥ä¸šèŒä¸šæŠ€æœ¯å­¦é™¢</el-menu-item>
            <!--æœç´¢æ¡†-->
            <el-input v-model="inputVal" placeholder="è¯·è¾“å…¥æœç´¢å†…å®¹" @keyup.enter="search" class="input">
              <template #append>
                <el-button :icon="Search" @click="search" type="primary"/>
              </template>
            </el-input>

            <div class="flex-grow"/>
            <el-menu-item index="/home" route="/home" replace>ä¸»é¡µ</el-menu-item>
            <el-sub-menu>
              <template #title>å®ä¹ ä¸­å¿ƒ</template>
              <el-menu-item index="/internshipPlan" route="internshipPlan" replace>å®ä¹ è®¡åˆ’</el-menu-item>
              <el-menu-item index="/practiceBase" route="practiceBase" replace>å®ä¹ åŸºåœ°</el-menu-item>
              <el-menu-item index="/internshipTasks" route="internshipTasks" replace>å®ä¹ ä»»åŠ¡</el-menu-item>
              <el-menu-item index="/internshipReport" route="internshipReport" replace>å®ä¹ æŠ¥å‘Š</el-menu-item>
              <el-menu-item index="/internshipResults" route="internshipResults" replace>å®ä¹ æˆç»©</el-menu-item>
            </el-sub-menu>
            <el-menu-item index="/dailyDocuments" route="dailyDocuments" replace>æ—¥å¸¸æ–‡æ¡£</el-menu-item>
            <el-menu-item index="/personalInfo" route="personalInfo" replace>ä¸ªäººä¸­å¿ƒ</el-menu-item>

            <el-popover
                placement="bottom"
                :width="150"
                trigger="hover"
                content="this is content, this is content, this is content"
            >
              <el-menu
                  text-color="black"
                  background-color="#fff"
                  :default-active="activeIndex"
              >
                <el-menu-item index="personalInfo" @click="router.push('/personalInfo')">
                  <el-icon>
                    <User/>
                  </el-icon>
                  <span>ä¸ªäººä¸­å¿ƒ</span>
                </el-menu-item>
                <el-menu-item index="4" @click="logout()">
                  <el-icon>
                    <RemoveFilled/>
                  </el-icon>
                  <span>é€€å‡ºç™»å½•</span>
                </el-menu-item>
              </el-menu>
              <template #reference>
                <el-avatar :size="50" src="src/assets/å®µå®«.jpeg"/>
                <p>admin</p>
              </template>
            </el-popover>
          </el-menu>

        </el-affix>
      </el-header>

      <!--   ä¸­   -->
      <el-main>
        <el-backtop :right="50" :bottom="70"/>
        <router-view></router-view>
      </el-main>

      <!--  ä¸‹    -->
      <el-footer>
        <div style="margin-top: 30px;position:relative">
          <el-row>
            <el-col :span="8"><a href="https://github.com/10hetongxue18/">â¤æ”¯æŒé¡¹ç›®</a></el-col>
            <el-col :span="8"><a href="https://www.bilibili.com/">ğŸ˜è”ç³»ä½œè€…</a></el-col>
            <el-col :span="8"><a href="https://www.zhaopin.com/">ğŸ‘½å…è´£å£°æ˜</a></el-col>
          </el-row>
          <span style="font-family: åæ–‡è¡Œæ¥·">Â©2022 cabbageå‡ºå“|2022/10/20</span>
        </div>
      </el-footer>

    </el-container>


  </div>


</template>

<script setup>
import HomePage from "../basePages/HomePage.vue";
import {useRoute, useRouter} from "vue-router";
import {onMounted, ref} from "vue";

const router = useRouter()
const route = useRoute()
const activeIndex = ref('home')

const handleSelect = () => {
  // activeIndex.value=route.path
}

onMounted(() => {
  // activeIndex.value='home'
  // activeIndex.value=this.$route.path
  // router.push('/home')

})
//é€€å‡ºç™»å½•
const logout = () => {
  router.push('/login')
}


</script>

<style scoped>
/*å¯¼èˆªæ æ ·å¼*/
.el-menu-demo {
  /*èƒŒæ™¯é€æ˜åº¦*/
  opacity: 0.8;
  /*è¾¹æ¡†æ¸å˜*/
  border-radius: 20px;
  padding: 10px;
  /*border: 1px black solid;*/
}

.flex-grow {
  flex-grow: 1;
}

/*æœç´¢æ¡†*/
.input {
  width: 300px;
  height: 40px;
  margin-top: 10px;
  /*margin-left: 70px;*/
  /*float:left;*/
  /*transition:.3s linear;*/
}

/*.input:focus{*/
/*  width: 500px;*/
/*}*/

</style>



